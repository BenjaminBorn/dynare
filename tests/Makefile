MODS=$(shell find -name '*.mod')

all:

clean:
  # Model files
	rm -f $(patsubst %.mod, %.m, $(MODS))
	rm -f $(patsubst %.mod, %_static.m, $(MODS))
	rm -f $(patsubst %.mod, %_dynamic.m, $(MODS))

  # Results
	rm -f $(patsubst %.mod, %_results.mat, $(MODS))
	rm -f $(patsubst %.mod, %_mode.mat, $(MODS))
	rm -f $(patsubst %.mod, %_mh_mode.mat, $(MODS))
	rm -f $(patsubst %.mod, %_mean.mat, $(MODS))
	rm -f $(patsubst %.mod, %_pindx.mat, $(MODS))
	rm -f $(patsubst %.mod, %_params.mat, $(MODS))
	rm -rf $(patsubst %.mod, %, $(MODS))

	rm -f $(patsubst %.mod, %.log, $(MODS))

  # Graphics
	rm -f $(patsubst %.mod, %*.pdf, $(MODS))
	rm -f $(patsubst %.mod, %*.eps, $(MODS))
	rm -f $(patsubst %.mod, %*.fig, $(MODS))

	# Remove files generated by csminwel.m
	rm -f $(shell find -name g1.mat)
	rm -f $(shell find -name g2.mat)
	rm -f $(shell find -name g3.mat)
	rm -f $(shell find -name H.dat)
