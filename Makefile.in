all:
	make -C preprocessor $@
	make -C doc $@
.PHONY: all

check:
	make -C tests $@
.PHONY: check

clean:
	make -C preprocessor $@
	make -C doc $@
	make -C tests $@
	rm -f matlab/dynare_m matlab/dynare_m.exe
	rm -f mex/2007a/* mex/2007b/* mex/octave/*.mex
	rm -f windows/*.exe
	rm -f *~
.PHONY: clean

distclean: clean
	rm -f config.log config.status
	rm -rf autom4te.cache
	rm -f Makefile preprocessor/Makefile doc/Makefile doc/preprocessor/Makefile doc/macroprocessor/Makefile doc/userguide/Makefile matlab/dynare_version.m windows/dynare-version.nsi
.PHONY: distclean

TARBASENAME=@PACKAGE_NAME@-@PACKAGE_VERSION@

srctarball $(TARBASENAME).tar.gz: distclean
	tar cvzf ../$(TARBASENAME).tar.gz --transform 's,^\./,$(TARBASENAME)/,' --exclude='*~' --exclude-vcs .
.PHONY: srctarball

configure: configure.ac
	autoconf

Makefile: Makefile.in config.status
	./config.status

config.status: configure
	./config.status --recheck
