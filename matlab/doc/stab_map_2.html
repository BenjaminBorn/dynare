<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of stab_map_2</title>
  <meta name="keywords" content="stab_map_2">
  <meta name="description" content="function stab_map_2(x,alpha2,istab,fnam)">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../index.html">Home</a> &gt;  <a href="index.html">.</a> &gt; stab_map_2.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../index.html"><img alt="<" border="0" src="../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for .&nbsp;<img alt=">" border="0" src="../right.png"></a></td></tr></table>-->

<h1>stab_map_2
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>function stab_map_2(x,alpha2,istab,fnam)</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>function stab_map_2(x,alpha2,fnam, dirname) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre class="comment">function stab_map_2(x,alpha2,istab,fnam)
 function stab_map_2(x,alpha2,fnam)

 Copyright (C) 2005 Marco Ratto
 THIS PROGRAM WAS WRITTEN FOR MATLAB BY
 Marco Ratto,
 Unit of Econometrics and Statistics AF
 (http://www.jrc.cec.eu.int/uasa/),
 IPSC, Joint Research Centre
 The European Commission,
 TP 361, 21020 ISPRA(VA), ITALY
 marco.ratto@jrc.it</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../matlabicon.gif)">
</ul>
This function is called by:
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="filt_mc_.html" class="code" title="function [rmse_MC, ixx] = filt_mc_(vvarvecm, loadSA, pfilt, alpha, alpha2, OutDir, istart, alphaPC)">filt_mc_</a>	copyright Marco Ratto 2006</li><li><a href="stab_map_.html" class="code" title="function x0 = stab_map_(Nsam, fload, ksstat, alpha2, prepSA, pprior, ilptau, OutputDirectoryName)">stab_map_</a>	</li></ul>
<!-- crossreference -->


<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre>0001 <span class="comment">%function stab_map_2(x,alpha2,istab,fnam)</span>
0002 <a name="_sub0" href="#_subfunctions" class="code">function stab_map_2(x,alpha2,fnam, dirname)</a>
0003 <span class="comment">% function stab_map_2(x,alpha2,fnam)</span>
0004 <span class="comment">%</span>
0005 <span class="comment">% Copyright (C) 2005 Marco Ratto</span>
0006 <span class="comment">% THIS PROGRAM WAS WRITTEN FOR MATLAB BY</span>
0007 <span class="comment">% Marco Ratto,</span>
0008 <span class="comment">% Unit of Econometrics and Statistics AF</span>
0009 <span class="comment">% (http://www.jrc.cec.eu.int/uasa/),</span>
0010 <span class="comment">% IPSC, Joint Research Centre</span>
0011 <span class="comment">% The European Commission,</span>
0012 <span class="comment">% TP 361, 21020 ISPRA(VA), ITALY</span>
0013 <span class="comment">% marco.ratto@jrc.it</span>
0014 <span class="comment">%</span>
0015 
0016 <span class="comment">%global bayestopt_ estim_params_ dr_ options_ ys_ fname_</span>
0017 <span class="keyword">global</span> bayestopt_ estim_params_ options_ oo_ M_
0018 
0019 npar=size(x,2);
0020 ishock= npar&gt;estim_params_.np;
0021 <span class="keyword">if</span> nargin&lt;3,
0022   fnam=<span class="string">''</span>;
0023 <span class="keyword">end</span>
0024 <span class="keyword">if</span> nargin&lt;4,
0025   dirname=<span class="string">''</span>;
0026 <span class="keyword">end</span>
0027 
0028 ys_ = oo_.dr.ys;
0029 dr_ = oo_.dr;
0030 fname_ = M_.fname;
0031 nshock = estim_params_.nvx;
0032 nshock = nshock + estim_params_.nvn;
0033 nshock = nshock + estim_params_.ncx;
0034 nshock = nshock + estim_params_.ncn;
0035 
0036 c0=corrcoef(x);
0037 c00=tril(c0,-1);
0038 fig_nam_=[fname_,<span class="string">'_'</span>,fnam,<span class="string">'_corr_'</span>];
0039 
0040 ifig=0;
0041 j2=0;
0042 <span class="keyword">if</span> ishock==0
0043   npar=estim_params_.np;
0044 <span class="keyword">else</span>
0045   npar=estim_params_.np+nshock;
0046 <span class="keyword">end</span>
0047 <span class="keyword">for</span> j=1:npar,
0048   i2=find(abs(c00(:,j))&gt;alpha2);
0049   <span class="keyword">if</span> length(i2)&gt;0,
0050     <span class="keyword">for</span> jx=1:length(i2),
0051       j2=j2+1;
0052       <span class="keyword">if</span> mod(j2,12)==1,
0053         ifig=ifig+1;
0054         figure(<span class="string">'name'</span>,[<span class="string">'Correlations in the '</span>,fnam,<span class="string">' sample '</span>, num2str(ifig)]),
0055       <span class="keyword">end</span>
0056       subplot(3,4,j2-(ifig-1)*12)
0057       <span class="comment">%             bar(c0(i2,j)),</span>
0058       <span class="comment">%             set(gca,'xticklabel',bayestopt_.name(i2)),</span>
0059       <span class="comment">%             set(gca,'xtick',[1:length(i2)])</span>
0060       <span class="comment">%plot(stock_par(ixx(nfilt+1:end,i),j),stock_par(ixx(nfilt+1:end,i),i2(jx)),'.k')</span>
0061       <span class="comment">%hold on,</span>
0062       plot(x(:,j),x(:,i2(jx)),<span class="string">'.'</span>)
0063       <span class="comment">%             xlabel(deblank(estim_params_.param_names(j,:)),'interpreter','none'),</span>
0064       <span class="comment">%             ylabel(deblank(estim_params_.param_names(i2(jx),:)),'interpreter','none'),</span>
0065       <span class="keyword">if</span> ishock,
0066         xlabel(bayestopt_.name{j},<span class="string">'interpreter'</span>,<span class="string">'none'</span>), 
0067         ylabel(bayestopt_.name{i2(jx)},<span class="string">'interpreter'</span>,<span class="string">'none'</span>), 
0068       <span class="keyword">else</span>
0069         xlabel(bayestopt_.name{j+nshock},<span class="string">'interpreter'</span>,<span class="string">'none'</span>), 
0070         ylabel(bayestopt_.name{i2(jx)+nshock},<span class="string">'interpreter'</span>,<span class="string">'none'</span>), 
0071       <span class="keyword">end</span>
0072       title([<span class="string">'cc = '</span>,num2str(c0(i2(jx),j))])
0073       <span class="keyword">if</span> (mod(j2,12)==0) &amp; j2&gt;0,
0074         saveas(gcf,[dirname,<span class="string">'\'</span>,fig_nam_,int2str(ifig)])
0075         eval([<span class="string">'print -depsc2 '</span> dirname <span class="string">'\'</span> fig_nam_ int2str(ifig)]);
0076         eval([<span class="string">'print -dpdf '</span> dirname <span class="string">'\'</span> fig_nam_ int2str(ifig)]);
0077         <span class="keyword">if</span> options_.nograph, close(gcf), <span class="keyword">end</span>
0078       <span class="keyword">end</span>
0079     <span class="keyword">end</span>
0080   <span class="keyword">end</span>
0081   <span class="keyword">if</span> (j==(npar)) &amp; j2&gt;0,
0082     saveas(gcf,[dirname,<span class="string">'\'</span>,fig_nam_,int2str(ifig)])
0083     eval([<span class="string">'print -depsc2 '</span> dirname <span class="string">'\'</span> fig_nam_ int2str(ifig)]);
0084     eval([<span class="string">'print -dpdf '</span> dirname <span class="string">'\'</span> fig_nam_ int2str(ifig)]);
0085     <span class="keyword">if</span> options_.nograph, close(gcf), <span class="keyword">end</span>
0086   <span class="keyword">end</span>
0087   
0088 <span class="keyword">end</span>
0089 <span class="keyword">if</span> ifig==0,
0090   disp([<span class="string">'No correlation term &gt;'</span>, num2str(alpha2),<span class="string">' found for '</span>,fnam])
0091 <span class="keyword">end</span>
0092 <span class="comment">%close all</span></pre></div>
<hr><address>Generated on Fri 16-Jun-2006 09:09:06 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/">m2html</a></strong> &copy; 2003</address>
</body>
</html>